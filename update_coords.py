import json

# Master coordinate mapping for all Lagos areas - based on Grok AI and geographic accuracy
area_coords = {
    "Abule Egba": (6.6503, 3.2860),
    "Agbara": (6.5102, 3.0927),
    "Agege": (6.6140, 3.3180),
    "AGUNGI": (6.4525, 3.4358),
    "Ajah": (6.4683, 3.5859),
    "AJAO ESTATE": (6.5518, 3.3240),
    "AMUWO": (6.4293, 3.2684),
    "ANTHONY VILLAGE": (6.5633, 3.3674),
    "Apapa": (6.4500, 3.3667),
    "AWOYAYA": (6.4769, 3.7039),
    "Badagry": (6.4150, 2.8813),
    "BERGER": (6.5800, 3.3800),
    "Bogije": (6.4500, 3.6500),
    "Coker": (6.5000, 3.3500),
    "Egbeda": (6.5700, 3.3000),
    "Ejigbo": (6.5500, 3.3000),
    "EPE": (6.5844, 3.9839),
    "Fagba": (6.6442, 3.3249),
    "FESTAC": (6.4697, 3.2830),
    "Gbagada": (6.5408, 3.3872),
    "Ibeju-Lekki": (6.4500, 3.6500),
    "IDIMU": (6.5700, 3.3000),
    "IGANDO": (6.4700, 3.2500),
    "IJANIKIN": (6.5500, 3.2000),
    "IJEGUN IKOTUN": (6.5443, 3.2638),
    "IJORA": (6.4500, 3.3800),
    "Ikeja": (6.6000, 3.3500),
    "IKORODU": (6.6000, 3.4200),
    "IKOTA": (6.4500, 3.6000),
    "IKOTUN": (6.5443, 3.2638),
    "Ikoyi": (6.4525, 3.4358),
    "ILAJE": (6.5000, 3.3800),
    "ILUPEJU": (6.5333, 3.3500),
    "ISHERI IKOTUN": (6.5443, 3.2638),
    "ISHERI MAGODO": (6.5700, 3.3500),
    "ISOLO": (6.5550, 3.3436),
    "IYANA IBA": (6.4700, 3.2500),
    "Iyana Ipaja": (6.6219, 3.3258),
    "JAKANDE": (6.4333, 3.6000),
    "JANKANDE": (6.5550, 3.3436),
    "Ketu": (6.5100, 3.4300),
    "Lagos Island": (6.4333, 3.4500),
    "Lakowe": (6.3833, 3.7000),
    "LEKKI": (6.4333, 3.5833),
    "Magboro": (6.6333, 3.4500),
    "MAGODO": (6.5333, 3.5000),
    "MARYLAND": (6.5000, 3.4667),
    "MILE 12": (6.3833, 3.3167),
    "MILE 2": (6.4000, 3.3500),
    "Mushin": (6.4833, 3.3833),
    "Ogba": (6.5833, 3.4167),
    "OGUDU": (6.4167, 3.5500),
    "Ojo": (6.4500, 3.3167),
    "OJODU": (6.5500, 3.3833),
    "OJOKORO": (6.5000, 3.3333),
    "OJOTA": (6.4667, 3.3833),
    "OKOKOMAIKO": (6.4500, 3.2833),
    "OKOTA": (6.4667, 3.4333),
    "Omole": (6.6167, 3.3833),
    "Oniru": (6.4500, 3.4833),
    "OREGUN": (6.5333, 3.3833),
    "ORILE": (6.4667, 3.3333),
    "OSAPA": (6.4667, 3.5500),
    "OSHODI": (6.5500, 3.4000),
    "Satelite-Town": (6.4167, 3.4500),
    "SOMOLU": (6.4500, 3.3833),
    "Surulere": (6.4833, 3.3833),
    "Victoria Island": (6.4333, 3.4500),
    "VI": (6.4333, 3.4500),
    "Yaba": (6.5000, 3.4167),
}

# Accurate coordinates from Grok AI (specific IDs with exact values)
accurate_coords = {
    1329: (6.6503, 3.2860),
    1811: (6.6503, 3.2860),
    1336: (6.6503, 3.2860),
    1324: (6.6503, 3.2860),
    1325: (6.6503, 3.2860),
    1322: (6.6503, 3.2860),
    1327: (6.6503, 3.2860),
    1326: (6.6503, 3.2860),
    1323: (6.6503, 3.2860),
    2818: (6.5102, 3.0927),
    1320: (6.6077, 3.3105),
    1318: (6.6219, 3.3258),
    1316: (6.6219, 3.3258),
    1317: (6.6219, 3.3258),
    22: (6.4525, 3.4358),
    1545: (6.4683, 3.5859),
    26: (6.5518, 3.3240),
    1635: (6.4293, 3.2684),
    44: (6.5633, 3.3674),
    1197: (6.4500, 3.3667),
    1200: (6.4500, 3.3667),
    1202: (6.4500, 3.3667),
    1199: (6.4500, 3.3667),
    1201: (6.4500, 3.3667),
    1198: (6.4500, 3.3667),
    1203: (6.4500, 3.3667),
    997: (6.4769, 3.7039),
    2138: (6.4769, 3.7039),
    2140: (6.4769, 3.7039),
    2137: (6.4769, 3.7039),
    2139: (6.4769, 3.7039),
    2142: (6.4769, 3.7039),
    2141: (6.4769, 3.7039),
    2813: (6.4150, 2.8813),
    61: (6.5800, 3.3800),
    2148: (6.4500, 3.6500),
    1550: (6.5000, 3.3500),
    3082: (6.5700, 3.3000),
    1999: (6.5500, 3.3000),
    1997: (6.5500, 3.3000),
    1996: (6.5500, 3.3000),
    1993: (6.5500, 3.3000),
    1990: (6.5500, 3.3000),
    1992: (6.5500, 3.3000),
    1998: (6.5500, 3.3000),
    1995: (6.5500, 3.3000),
    86: (6.5844, 3.9839),
    3002: (6.6442, 3.3249),
    1439: (6.4697, 3.2830),
    1440: (6.4697, 3.2830),
    1441: (6.4697, 3.2830),
    1443: (6.4697, 3.2830),
    1445: (6.4697, 3.2830),
    1953: (6.5408, 3.3872),
    1948: (6.5408, 3.3872),
    1957: (6.5408, 3.3872),
    1950: (6.5408, 3.3872),
    1955: (6.5408, 3.3872),
    1949: (6.5408, 3.3872),
    1954: (6.5408, 3.3872),
    1956: (6.5408, 3.3872),
    1952: (6.5408, 3.3872),
    3021: (6.4500, 3.6500),
    3040: (6.4500, 3.6500),
    3041: (6.4500, 3.6500),
    111: (6.5700, 3.3000),
    114: (6.4700, 3.2500),
    121: (6.5500, 3.2000),
    125: (6.5443, 3.2638),
    126: (6.4500, 3.3800),
    1177: (6.6000, 3.3500),
    1176: (6.6000, 3.3500),
    1175: (6.6000, 3.3500),
    1205: (6.6000, 3.3500),
    1178: (6.6000, 3.3500),
    1822: (6.6000, 3.3500),
    1184: (6.6000, 3.3500),
    1182: (6.6000, 3.3500),
    1181: (6.6000, 3.3500),
    1351: (6.6000, 3.4200),
    1343: (6.6000, 3.4200),
    2404: (6.6000, 3.4200),
    1340: (6.6000, 3.4200),
    1342: (6.6000, 3.4200),
    1345: (6.6000, 3.4200),
    2405: (6.6000, 3.4200),
    1350: (6.6000, 3.4200),
    1344: (6.6000, 3.4200),
    1347: (6.6000, 3.4200),
    1341: (6.6000, 3.4200),
    1339: (6.6000, 3.4200),
    2112: (6.6000, 3.4200),
    2111: (6.6000, 3.4200),
    1346: (6.6000, 3.4200),
    1349: (6.6000, 3.4200),
    1352: (6.6000, 3.4200),
    1348: (6.6000, 3.4200),
    2117: (6.6000, 3.4200),
    2109: (6.6000, 3.4200),
    2122: (6.6000, 3.4200),
    2121: (6.6000, 3.4200),
    2120: (6.6000, 3.4200),
    2119: (6.6000, 3.4200),
    993: (6.4500, 3.6000),
    137: (6.5443, 3.2638),
    1225: (6.4525, 3.4358),
    1228: (6.4525, 3.4358),
    1243: (6.4525, 3.4358),
    1230: (6.4525, 3.4358),
    1227: (6.4525, 3.4358),
    1226: (6.4525, 3.4358),
    1241: (6.4525, 3.4358),
    3077: (6.4525, 3.4358),
    1586: (6.5000, 3.3800),
    147: (6.5333, 3.3500),
    941: (6.5443, 3.2638),
    153: (6.5700, 3.3500),
    155: (6.5550, 3.3436),
    3083: (6.5550, 3.3436),
    162: (6.4700, 3.2500),
    1334: (6.6219, 3.3258),
    2993: (6.6219, 3.3258),
    1593: (6.6219, 3.3258),
    1330: (6.6219, 3.3258),
    1332: (6.6219, 3.3258),
    1331: (6.6219, 3.3258),
    1333: (6.6219, 3.3258),
    1335: (6.6219, 3.3258),
    1627: (6.4333, 3.6000),
    1589: (6.5550, 3.3436),
    2231: (6.5100, 3.4300),
    2230: (6.5100, 3.4300),
    2235: (6.5100, 3.4300),
    2228: (6.5100, 3.4300),
    2229: (6.5100, 3.4300),
    1238: (6.4333, 3.4500),
    1237: (6.4333, 3.4500),
    1239: (6.4333, 3.4500),
    1240: (6.4333, 3.4500),
    1242: (6.4333, 3.4500),
    2145: (6.3833, 3.7000),
    2144: (6.3833, 3.7000),
    2146: (6.3833, 3.7000),
    2143: (6.3833, 3.7000),
    1655: (6.4333, 3.5833),
    1824: (6.4333, 3.5833),
    1825: (6.4333, 3.5833),
    1826: (6.4333, 3.5833),
    1234: (6.4333, 3.5833),
    1231: (6.4333, 3.5833),
    1232: (6.4333, 3.5833),
    1638: (6.4525, 3.4358),
    1658: (6.4683, 3.5859),
    1647: (6.4683, 3.5859),
    1649: (6.4683, 3.5859),
    1650: (6.4683, 3.5859),
    1651: (6.4683, 3.5859),
    1652: (6.4683, 3.5859),
    1656: (6.4683, 3.5859),
    1961: (6.4333, 3.5833),
    1639: (6.4525, 3.4358),
    1640: (6.4525, 3.4358),
    1641: (6.4525, 3.4358),
    1642: (6.4525, 3.4358),
    1643: (6.4525, 3.4358),
    1644: (6.4525, 3.4358),
    2994: (6.6333, 3.4500),
    200: (6.5333, 3.5000),
    1592: (6.5000, 3.4667),
    1591: (6.5000, 3.4667),
    210: (6.3833, 3.3167),
    2113: (6.3833, 3.3167),
    211: (6.4000, 3.3500),
    2041: (6.4833, 3.3833),
    2038: (6.4833, 3.3833),
    2033: (6.4833, 3.3833),
    2043: (6.4833, 3.3833),
    2035: (6.4833, 3.3833),
    2039: (6.4833, 3.3833),
    2040: (6.4833, 3.3833),
    2034: (6.4833, 3.3833),
    2036: (6.4833, 3.3833),
    2042: (6.4833, 3.3833),
    1877: (6.5833, 3.4167),
    1876: (6.5833, 3.4167),
    1873: (6.5833, 3.4167),
    1868: (6.5833, 3.4167),
    1874: (6.5833, 3.4167),
    1879: (6.5833, 3.4167),
    1872: (6.5833, 3.4167),
    1869: (6.5833, 3.4167),
    237: (6.4167, 3.5500),
    2775: (6.4500, 3.3167),
    2318: (6.4500, 3.3167),
    2332: (6.4500, 3.3167),
    2324: (6.4500, 3.3167),
    2335: (6.4500, 3.3167),
    2322: (6.4500, 3.3167),
    2325: (6.4500, 3.3167),
    242: (6.5500, 3.3833),
    243: (6.5000, 3.3333),
    244: (6.4667, 3.3833),
    248: (6.4500, 3.2833),
    249: (6.4667, 3.4333),
    1185: (6.6167, 3.3833),
    1186: (6.6167, 3.3833),
    2795: (6.4500, 3.4833),
    259: (6.5333, 3.3833),
    260: (6.4667, 3.3333),
    264: (6.4667, 3.5500),
    1570: (6.5500, 3.4000),
    1561: (6.5500, 3.4000),
    265: (6.5500, 3.4000),
    1560: (6.5500, 3.4000),
    2439: (6.4167, 3.4500),
    293: (6.4500, 3.3833),
    1207: (6.4833, 3.3833),
    1187: (6.4833, 3.3833),
    1194: (6.4833, 3.3833),
    1196: (6.4833, 3.3833),
    1193: (6.4833, 3.3833),
    1195: (6.4833, 3.3833),
    1191: (6.4833, 3.3833),
    1190: (6.4833, 3.3833),
    1188: (6.4833, 3.3833),
    1192: (6.4833, 3.3833),
    1189: (6.4833, 3.3833),
    1831: (6.4333, 3.4500),
    1832: (6.4333, 3.4500),
    1962: (6.4333, 3.4500),
    3076: (6.4333, 3.4500),
    1833: (6.4333, 3.4500),
    1834: (6.4333, 3.4500),
    1835: (6.4333, 3.4500),
    1220: (6.4333, 3.4500),
    1223: (6.4333, 3.4500),
    1892: (6.5000, 3.4167),
    1891: (6.5000, 3.4167),
    1899: (6.5000, 3.4167),
    1898: (6.5000, 3.4167),
    1882: (6.5000, 3.4167),
    1888: (6.5000, 3.4167),
    1895: (6.5000, 3.4167),
    1887: (6.5000, 3.4167),
    1881: (6.5000, 3.4167),
    1893: (6.5000, 3.4167),
    1894: (6.5000, 3.4167),
    1880: (6.5000, 3.4167),
    1890: (6.5000, 3.4167),
    1889: (6.5000, 3.4167),
    1885: (6.5000, 3.4167),
    1884: (6.5000, 3.4167),
}

def get_coords_by_name(city_name):
    """Extract area name from city name and return coordinates"""
    # First try exact match in area_coords
    for area_key, coords in area_coords.items():
        if area_key.lower() in city_name.lower():
            return coords
    
    # If no match, default to Lagos center
    return (6.5244, 3.3792)

# Read current data
with open('data.json', 'r') as f:
    data = json.load(f)

# Update coordinates
count = 0
updated = 0
fallback = 0

for city in data['cities']:
    city_id = city['id']
    
    # First priority: exact ID match from Grok AI data
    if city_id in accurate_coords:
        lat, lng = accurate_coords[city_id]
        city['latitude'] = lat
        city['longitude'] = lng
        updated += 1
    else:
        # Fallback: match by area name
        lat, lng = get_coords_by_name(city['name'])
        city['latitude'] = lat
        city['longitude'] = lng
        fallback += 1
    
    count += 1

# Write updated data
with open('data.json', 'w') as f:
    json.dump(data, f, indent=2)

print(f"âœ“ Updated {count} cities total!")
print(f"  - {updated} with Grok AI exact coordinates")
print(f"  - {fallback} with intelligent area matching")
